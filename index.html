<!DOCTYPE html>
<html>
<head>
    <title>Paleontology Clicker</title>
    <style>
        body { font-family: Arial, sans-serif; background: #2c3e50; color: white; padding: 20px; }
        .game-area { max-width: 1000px; margin: 0 auto; }
        .stats { display: flex; gap: 20px; margin-bottom: 20px; }
        .stat { background: #34495e; padding: 15px; border-radius: 5px; }
        .digsite { background: #8b4513; height: 300px; position: relative; border-radius: 10px; margin-bottom: 20px; }
        .fossil { position: absolute; background: #f39c12; padding: 5px 10px; border-radius: 3px; cursor: pointer; }
        .fossil:hover { background: #e67e22; }
        .panels { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .panel { background: #34495e; padding: 20px; border-radius: 5px; }
        .upgrade { background: #2c3e50; padding: 10px; margin: 5px 0; border-radius: 3px; display: flex; justify-content: space-between; }
        .upgrade button { background: #e67e22; color: white; border: none; padding: 5px 15px; border-radius: 3px; cursor: pointer; }
        .upgrade button:disabled { background: #7f8c8d; cursor: not-allowed; }
        .skeleton { margin: 10px 0; }
        .progress-bar { background: #7f8c8d; height: 20px; border-radius: 10px; overflow: hidden; margin: 5px 0; }
        .progress-fill { background: #e67e22; height: 100%; transition: width 0.3s; }
        .actions { text-align: center; margin: 20px 0; }
        .actions button { background: #3498db; color: white; border: none; padding: 15px 30px; border-radius: 5px; margin: 0 10px; cursor: pointer; font-size: 16px; }
        .actions button:disabled { background: #7f8c8d; }
    </style>
</head>
<body>
    <div class="game-area">
        <h1>ü¶¥ Paleontology Expedition</h1>
        
        <div class="stats">
            <div class="stat">ü¶¥ Fossils: <span id="fossils">0</span></div>
            <div class="stat">üó∫Ô∏è Exp Points: <span id="exp-points">0</span></div>
            <div class="stat">üìä Expeditions: <span id="expeditions">0</span></div>
        </div>
        
        <div id="digsite" class="digsite"></div>
        
        <div class="panels">
            <div class="panel">
                <h3>üîß Upgrades</h3>
                <div id="upgrades"></div>
            </div>
            
            <div class="panel">
                <h3>ü¶ï Skeletons</h3>
                <div id="skeletons"></div>
            </div>
        </div>
        
        <div class="actions">
            <button onclick="collectAll()">Collect All</button>
            <button id="expedition-btn" onclick="startExpedition()" disabled>Start Expedition</button>
        </div>
    </div>

    <script>
        // Game state
        let game = {
            fossils: 0,
            fossilsLifetime: 0,
            expPoints: 0,
            expeditions: 0,
            digSpeed: 1,
            fossilValue: 1,
            capacity: 10,
            fossilsOnGround: [],
            skeletonPieces: {},
            completedSkeletons: [],
            upgrades: {
                speed: 0,
                value: 0,
                capacity: 0
            }
        };

        // Simple data
        const skeletons = {
            velociraptor: { name: "Velociraptor", pieces: 5 },
            triceratops: { name: "Triceratops", pieces: 8 },
            trex: { name: "T-Rex", pieces: 12 }
        };

        const upgrades = {
            speed: { name: "Dig Speed", cost: 10, multiplier: 1.15 },
            value: { name: "Fossil Value", cost: 25, multiplier: 1.2 },
            capacity: { name: "Site Size", cost: 100, multiplier: 1.25 }
        };

        // Spawn fossils
        function spawnFossil() {
            if (game.fossilsOnGround.length >= game.capacity) return;
            
            const fossil = {
                id: Date.now() + Math.random(),
                value: Math.floor(game.fossilValue),
                x: Math.random() * 250 + 25,
                y: Math.random() * 250 + 25
            };
            
            game.fossilsOnGround.push(fossil);
            
            // Skeleton piece chance
            if (Math.random() < 0.001) {
                const skeletonTypes = Object.keys(skeletons);
                const skeleton = skeletonTypes[Math.floor(Math.random() * skeletonTypes.length)];
                
                if (!game.skeletonPieces[skeleton]) game.skeletonPieces[skeleton] = 0;
                game.skeletonPieces[skeleton]++;
                
                if (game.skeletonPieces[skeleton] >= skeletons[skeleton].pieces && !game.completedSkeletons.includes(skeleton)) {
                    game.completedSkeletons.push(skeleton);
                    alert(`Completed ${skeletons[skeleton].name} skeleton!`);
                }
            }
        }

        // Collect fossil
        function collectFossil(fossilId) {
            const index = game.fossilsOnGround.findIndex(f => f.id === fossilId);
            if (index === -1) return;
            
            const fossil = game.fossilsOnGround[index];
            game.fossils += fossil.value;
            game.fossilsLifetime += fossil.value;
            game.fossilsOnGround.splice(index, 1);
        }

        // Collect all fossils
        function collectAll() {
            for (const fossil of game.fossilsOnGround) {
                game.fossils += fossil.value;
                game.fossilsLifetime += fossil.value;
            }
            game.fossilsOnGround = [];
        }

        // Buy upgrade
        function buyUpgrade(type) {
            const upgrade = upgrades[type];
            const level = game.upgrades[type];
            const cost = Math.floor(upgrade.cost * Math.pow(upgrade.multiplier, level));
            
            if (game.fossils >= cost) {
                game.fossils -= cost;
                game.upgrades[type]++;
                
                if (type === 'speed') game.digSpeed *= 1.2;
                if (type === 'value') game.fossilValue *= 1.15;
                if (type === 'capacity') game.capacity += 2;
            }
        }

        // Start expedition (rebirth)
        function startExpedition() {
            if (!game.completedSkeletons.includes('velociraptor')) return;
            
            const points = Math.floor(Math.log10(game.fossils + 1)) + game.completedSkeletons.length;
            game.expPoints += points;
            game.expeditions++;
            
            // Reset current run
            game.fossils = 0;
            game.digSpeed = Math.pow(1.1, game.expeditions);
            game.fossilValue = Math.pow(1.1, game.expeditions);
            game.capacity = 10;
            game.fossilsOnGround = [];
            game.skeletonPieces = {};
            game.upgrades = { speed: 0, value: 0, capacity: 0 };
        }

        // Update display
        function updateDisplay() {
            document.getElementById('fossils').textContent = Math.floor(game.fossils);
            document.getElementById('exp-points').textContent = game.expPoints;
            document.getElementById('expeditions').textContent = game.expeditions;
            
            // Update digsite
            const digsite = document.getElementById('digsite');
            digsite.innerHTML = game.fossilsOnGround.map(fossil => 
                `<div class="fossil" style="left: ${fossil.x}px; top: ${fossil.y}px;" onclick="collectFossil('${fossil.id}')">
                    ü¶¥ ${fossil.value}
                </div>`
            ).join('');
            
            // Update upgrades
            const upgradesDiv = document.getElementById('upgrades');
            upgradesDiv.innerHTML = Object.entries(upgrades).map(([type, upgrade]) => {
                const level = game.upgrades[type];
                const cost = Math.floor(upgrade.cost * Math.pow(upgrade.multiplier, level));
                const canAfford = game.fossils >= cost;
                
                return `
                    <div class="upgrade">
                        <div>${upgrade.name} (${level})</div>
                        <button ${canAfford ? '' : 'disabled'} onclick="buyUpgrade('${type}')">${cost}</button>
                    </div>
                `;
            }).join('');
            
            // Update skeletons
            const skeletonsDiv = document.getElementById('skeletons');
            skeletonsDiv.innerHTML = Object.entries(skeletons).map(([type, skeleton]) => {
                const pieces = game.skeletonPieces[type] || 0;
                const percentage = Math.min(100, (pieces / skeleton.pieces) * 100);
                const completed = game.completedSkeletons.includes(type);
                
                return `
                    <div class="skeleton">
                        <div>${skeleton.name} ${completed ? '‚úì' : ''}</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${percentage}%"></div>
                        </div>
                        <small>${pieces}/${skeleton.pieces} pieces</small>
                    </div>
                `;
            }).join('');
            
            // Update expedition button
            document.getElementById('expedition-btn').disabled = !game.completedSkeletons.includes('velociraptor');
        }

        // Game loop
        setInterval(() => {
            if (Math.random() < 0.1 * game.digSpeed) spawnFossil();
            updateDisplay();
        }, 100);

        // Auto-save
        setInterval(() => {
            localStorage.setItem('paleontologyGame', JSON.stringify(game));
        }, 5000);

        // Load save
        const saved = localStorage.getItem('paleontologyGame');
        if (saved) {
            try {
                game = Object.assign(game, JSON.parse(saved));
            } catch(e) {}
        }
    </script>
</body>
</html>
